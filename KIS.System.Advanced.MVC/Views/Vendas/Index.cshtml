
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model IEnumerable<KIS.System.Advanced.MVC.ViewModels.ProdutoVM>


<!-- Bootstrap core CSS -->

<link href="~/Content/bootstrap.min.css" rel="stylesheet">
<link href="~/Content/vendas.css" rel="stylesheet">  
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
<!-- Latest compiled and minified JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>

<body>
    <header class="header fixed-top clearfix">
        <div class="top-nav clearfix">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-2">
                        <a data-toggle="tooltip" data-placement="bottom" title="" href="" data-original-title="Nova Venda">
                            <i class="icon mdi-navigation-menu"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container bkp-cont">
        <div class="theme-lockup">
            <h4 class="pad-top-20 text-center">Nova Venda</h4>
        </div>
        <br>
        <div class="row">
            <div class="col-md-12">
                <div class="" id="box_configs">
                    <label class="float-left mg-10">Pedido Nº  </label> <input class="wd-100 mb-10 form-control btn-disable" type="text" placeholder="">
                    <label class="float-left mg-10 mb-10">Vendedor:   </label>
                    <select class="mb-10 browser-default custom-select col-3">
                        <option selected>Selecione</option>
                        <option value="1">Guilherme</option>
                        <option value="2">Marcio</option>
                        <option value="3">J Rubens</option>
                        <option value="3">Everton</option>
                    </select>
                    <div class="form-group row">

                        <div class="col-sm-1" style="max-width:13.2%" ;>
                            <label for="" class="mg-10 form-control-label">Produto:</label>
                        </div>
                        <div class="col-sm-6">
                            <select class="form-control selectpicker" id="select-country" data-live-search="true">
                                <option data-tokens="china">China</option>
                                <option data-tokens="malayasia">Malayasia</option>
                                <option data-tokens="singapore">Singapore</option>
                            </select>
                        </div>
                        <div class="col-sm-3">
                            <button type="button" class="btn-add btn btn-block">Adicionar Produto</button>
                        </div>
                    </div>
                    <br>
                    <div class="">
                        <table id="lista-produtos" class="col-12 tb-b tb-style table table-striped table-hover table-condensed dataTable display responsive nowrap" width="100%" style="padding-left:0px;">
                            <thead>
                                <tr class="">
                                    <th>Cod. Produto</th>
                                    <th>Nome do Produto</th>
                                    <th>Descrição</th>
                                    <th>Quantidade</th>
                                    <th>Valor Unitário</th>
                                    <th>Desconto Unitário</th>
                                    <th>Valor</th>
                                    <th>
                                    </th>

                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="tb-style text-center">101</td>
                                    <td class="tb-style ">Chave de carro</td>
                                    <td class="tb-style">
                                        <div class="form-group">
                                            <textarea class="form-control" id="exampleFormControlTextarea1" rows="1"></textarea>
                                        </div>
                                    </td>
                                    <td class="tb-style">
                                        <input class="qtdem" type="button" value="-" id="decrease" onclick="decreaseQty();" />
                                        <input class="qtde" type="text" name="qty" id="qty" value="1" />
                                        <input class="qtdema" type="button" value="+" id="increase" onclick="increaseQty();" />
                                    </td>
                                    <td class="tb-style"><input class="wd-100 form-control" type="text" placeholder=""></td>
                                    <td class="tb-style"><input class="wd-100 form-control" type="text" placeholder=""></td>
                                    <td class="tb-style">110,00</td>
                                    <td class="tb-style"><button type="button" class="btn-remove">Remover</button></td>
                                </tr>
                                <tr>
                                    <td class="tb-style text-center">101</td>
                                    <td class="tb-style">Chave de carro</td>
                                    <td class="tb-style">
                                        <div class="form-group">
                                            <textarea class="form-control" id="exampleFormControlTextarea1" rows="1"></textarea>
                                        </div>
                                    </td>
                                    <td class="tb-style">
                                        <input class="qtdem" type="button" value="-" id="decrease" onclick="decreaseQty();" />
                                        <input class="qtde" type="text" name="qty" id="qty" value="1" />
                                        <input class="qtdema" type="button" value="+" id="increase" onclick="increaseQty();" />
                                    </td>
                                    <td class="tb-style"><input class="wd-100 form-control" type="text" placeholder=""></td>
                                    <td class="tb-style"><input class="wd-100 form-control" type="text" placeholder=""></td>
                                    <td class="tb-style">110,00</td>
                                    <td class="tb-style"><button type="button" class="btn-remove">Remover</button></td>
                                </tr>
                                <tr>
                                    <td class="tb-style text-center">101</td>
                                    <td class="tb-style">Chave de carro</td>
                                    <td class="tb-style">
                                        <div class="form-group">
                                            <textarea class="form-control" id="exampleFormControlTextarea1" rows="1"></textarea>
                                        </div>
                                    </td>
                                    <td class="tb-style">
                                        <input class="qtdem" type="button" value="-" id="decrease" onclick="decreaseQty();" />
                                        <input class="qtde" type="text" name="qty" id="qty" value="1" />
                                        <input class="qtdema" type="button" value="+" id="increase" onclick="increaseQty();" />
                                    </td>
                                    <td class="tb-style"><input class="wd-100 form-control" type="text" placeholder=""></td>
                                    <td class="tb-style"><input class="wd-100 form-control" type="text" placeholder=""></td>
                                    <td class="tb-style">110,00</td>
                                    <td class="tb-style"><button type="button" class="btn-remove">Remover</button></td>
                                </tr>
                                <tr>
                                    <td class="tb-style text-center">101</td>
                                    <td class="tb-style">Chave de carro</td>
                                    <td class="tb-style">
                                        <div class="form-group">
                                            <textarea class="form-control" id="exampleFormControlTextarea1" rows="1"></textarea>
                                        </div>
                                    </td>
                                    <td class="tb-style">
                                        <input class="qtdem" type="button" value="-" id="decrease" onclick="decreaseQty();" />
                                        <input class="qtde" type="text" name="qty" id="qty" value="1" />
                                        <input class="qtdema" type="button" value="+" id="increase" onclick="increaseQty();" />
                                    </td>
                                    <td class="tb-style"><input class="wd-100 form-control" type="text" placeholder=""></td>
                                    <td class="tb-style"><input class="wd-100 form-control" type="text" placeholder=""></td>
                                    <td class="tb-style">110,00</td>
                                    <td class="tb-style"><button type="button" class="btn-remove">Remover</button></td>
                                </tr>
                        </table>

                    </div>
                    <div class="col-12">
                        <label class="float-right mg-10 mr-10"> TOTAL DA COMPRA
                        <input class="mr-10 float-right wd-100 mb-10 form-control btn-disable" type="text" placeholder="">
                    </div>
                    <div class="col-12">
                        <label class="float-right mg-10 mr-10">
                            Total Desconto: <input class="float-right wd-100 mb-10 form-control btn-disable" type="text" placeholder="">
                            <label class="float-right mg-10"> % </label>
                            <input class="mr-10 float-right wd-150 mb-10 form-control btn-disable" type="text" placeholder="">
</div>
                    <div>
                        <label class="float-left mg-10">
                            </labelclass="float-right>
                            <select class="form-control selectpicker" id="select-country" data-live-search="true">
                                <option data-tokens="">Selecione a forma de pagamento</option>
                                <option data-tokens="dinheiro">Dinheiro</option>
                                <option data-tokens="cdebito">Cartão de Débito</option>
                                <option data-tokens="ccredito">Cartão de Crédito</option>
                                <option data-tokens="deposito">Deposito Bancário</option>
                            </select>
                    </div>

                    <div class="clearfix"></div>
                    <div class="col-sm-12">
                        <button type="button" class="mb-10 mr-10 btn-add btn btn-block float-right ">Finalizar Venda</button>
                        <button type="button" class="mb-10 mr-10 btn-remove float-right">Cancelar</button>
                    </div>
                    <br>
                </div>
        </div>
    </div>
    </div>
</body>

<script type="text/javascript">
    var count = 1;
    $('#items').live('pageinit', function (event) {
        $('#additem').click(function () {
            //alert("add clicked");
            var request = $.ajax({
                url: "http://www.furnguy.com/app-pages/additem.php",
                type: "POST",
                data: { COUNTER: count },
                dataType: "html"
            });

            request.done(function (html) {
                //alert("here");
                if (html != '') {
                    $('#salesitems').append(html).trigger('create');
                }
            });

            request.fail(function (jqXHR, textStatus) {
                alert("Request failed: " + textStatus);
            });
            count++;
        });
    });


    function deleteItem() {
        $('table').click(function () {
            $(this).parent().remove();
        });
    };
    function increaseQty() {
        var currentVal = parseInt($("#qty").val());
        if (currentVal != NaN) {
            $("#qty").val(currentVal + 1);
        }
    };
    function decreaseQty() {
        var currentVal = parseInt($("#qty").val());
        if (currentVal != NaN) {
            $("#qty").val(currentVal - 1);
        }
    };


    $(function () {
        $('.selectpicker').selectpicker();
    });


    $(document).ready(function () {
        $('#dtVerticalScrollExample').DataTable({
            "scrollY": "200px",
            "scrollCollapse": true,
        });
        $('.dataTables_length').addClass('bs-select');
    });
</script>
